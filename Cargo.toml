[package]
name = "fischl"
description = "Helper library to manage compatibility and downloads for KeqingLauncher"
authors = ["TukanDev"]
version = "0.1.0"
edition = "2024"

[build-dependencies]
prost-build = "0.13.5"

[dependencies]
serde = {version = "1", features = ["derive"]}
wincompatlib = {version = "0.7.7", features = ["all"], optional = true}
compress-tools = {version = "0.15", features = [], optional = true}
reqwest = {version = "0.12", features = ["blocking", "json", "stream"]}
chksum-md5 = {version = "0.1.0", features = ["async-runtime-tokio"], optional = true}
prost = {version = "0.13", features = [], optional = true}
async-compression = {version = "0.4", features = ["tokio", "zstd"], optional = true}
tokio = {version = "1.45", features = ["macros"]}
reqwest-middleware = "0.4"
reqwest-retry = "0.7"
sysinfo = "0.35"
serde_json = "1.0.140"
thiserror = "1.0"
futures-util = "0.3"
futures = "0.3"

[features]
compat = ["dep:wincompatlib"]
download = ["dep:compress-tools", "dep:chksum-md5", "dep:async-compression", "dep:prost"]

default = ["download"]
